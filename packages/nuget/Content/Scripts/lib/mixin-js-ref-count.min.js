/*
  mixin-js-ref-count.js 0.1.5
  (c) 2011, 2012 Kevin Malakoff - http://kmalakoff.github.com/mixin/
  License: MIT (http://www.opensource.org/licenses/mit-license.php)
  Dependencies: Mixin.Core
*/(function(){return function(e){return typeof define=="function"&&define.amd?define("mixin-js-ref-count",["mixin-js"],e):e.call(this)}(function(){var e,t;return e=!window.Mixin&&typeof require!="undefined"?require("mixin-js"):window.Mixin,t=e._,e.RefCount||(e.RefCount={}),e.RefCount._mixin_info={mixin_name:"RefCount",initialize:function(t){return e.instanceData(this,"RefCount",{ref_count:1,release_callback:t})},mixin_object:{retain:function(){var t;t=e.instanceData(this,"RefCount");if(t.ref_count<=0)throw new Error("Mixin.RefCount: ref_count is corrupt: "+t.ref_count);return t.ref_count++,this},release:function(){var t;t=e.instanceData(this,"RefCount");if(t.ref_count<=0)throw new Error("Mixin.RefCount: ref_count is corrupt: "+t.ref_count);return t.ref_count--,t.ref_count===0&&t.release_callback&&t.release_callback(this),this},refCount:function(){return e.instanceData(this,"RefCount").ref_count}}},e.registerMixin(e.RefCount._mixin_info),e})}).call(this);