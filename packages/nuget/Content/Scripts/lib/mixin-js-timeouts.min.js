// Generated by CoffeeScript 1.3.3
/*
  mixin_timeouts.js
  (c) 2011, 2012 Kevin Malakoff.
  Mixin.Timeouts is freely distributable under the MIT license.
  See the following for full license details:
    https://github.com/kmalakoff/mixin/blob/master/LICENSE
  Dependencies: Mixin.Core
*/(function(){var e,t;e=!window.Mixin&&typeof require!="undefined"?require("mixin-js"):window.Mixin;if(!this._&&typeof require!="undefined")try{t=require("lodash")}catch(n){t=require("underscore")}else t=this._;t&&t.hasOwnProperty("_")&&(t=t._),t||(t=e._),e.Timeouts||(e.Timeouts={}),e.Timeouts._mixin_info={mixin_name:"Timeouts",initialize:function(){return e.instanceData(this,"Timeouts",{timeouts:{}})},destroy:function(){return this.killAllTimeouts()},mixin_object:{addTimeout:function(n,r,i){var s,o,u,a=this;e.Core._Validate.string(n,"Mixin.Timeouts.addTimeout","timeout_name"),e.Core._Validate.callback(r,"Mixin.Timeouts.addTimeout","callback");if(i===void 0)throw new Error("Mixin.Timeouts: missing wait on '"+t.classOf(this)+"'");if(typeof i!="number"||i<0||Math.floor(i)!==i)throw new Error("Mixin.Timeouts: wait invalid on '"+t.classOf(this)+"'");o=e.instanceData(this,"Timeouts");if(this.hasTimeout(n))throw new Error("Mixin.Timeouts: timeout '"+n+"' already exists on '"+t.classOf(this)+"'");return s=Array.prototype.slice.call(arguments,3),u=setTimeout(function(){return a.killTimeout(n),r.apply(a,s)},i),o.timeouts[n]=u,this},hasTimeout:function(t){var n;return n=e.instanceData(this,"Timeouts"),t in n.timeouts},timeoutCount:function(){var t,n,r,i,s;n=e.instanceData(this,"Timeouts"),t=0,s=n.timeouts;for(r in s)i=s[r],t++;return t},timeouts:function(){var t,n,r,i,s;t=e.instanceData(this,"Timeouts"),r=[],s=t.timeouts;for(n in s)i=s[n],r.push(n);return r},killTimeout:function(t){var n;n=e.instanceData(this,"Timeouts");if(!this.hasTimeout(t))throw new Error("Mixin.Timeouts: timeout '"+t+"' does not exist. For a less-strict check, use killTimeoutIfExists");return this.killTimeoutIfExists(t),this},killTimeoutIfExists:function(t){var n,r;return n=e.instanceData(this,"Timeouts"),r=n.timeouts[t],r&&clearTimeout(r),delete n.timeouts[t],this},killAllTimeouts:function(){var t,n,r,i;n=e.instanceData(this,"Timeouts"),i=n.timeouts;for(r in i)t=i[r],this.killTimeoutIfExists(r);return this}}},e.registerMixin(e.Timeouts._mixin_info)}).call(this);